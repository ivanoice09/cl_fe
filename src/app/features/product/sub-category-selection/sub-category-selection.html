<div class="category-sidebar">
  <h5>Categorie</h5>
  
  <!-- Bottone "Tutte" (RIMANE FUORI DALLO SCROLL) -->
  @if (showAllButton) {
    <button 
    class="category-btn"
    [class.active]="selectedCategoryId === null"
    (click)="selectCategory(null)"
    >
      Tutte le Categorie
    </button>
  }
  
  <!-- WRAPPER SCROLLABILE (SOLO SULLA LISTA DINAMICA) -->
  <div class="category-list-wrapper">
      @for (category of visibleCategories; track category.categoryId) {
      <button 
        class="category-btn"
        [class.active]="selectedCategoryId === category.categoryId"
        (click)="selectCategory(category.categoryId)"
      >
        {{ category.name }} ({{ category.productCount }})
      </button>
      }
  </div>

  <!-- Bottone "Mostra altre" (RIMANE FUORI DALLO SCROLL) -->
  @if (hasMoreCategories) {
  <button 
    class="show-more-btn"
    (click)="toggleShowAll()"
  >
    {{ showAll ? 'Mostra meno' : 'Mostra altre (' + (categories.length - 5) + ')' }}
  </button>
  }
</div>
